<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asphalt Premium - Jako≈õƒá dr√≥g w Polsce</title>
    <link rel="icon" type="image/svg+xml" href="favicon.png">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Toolbar -->
    <header class="toolbar">
        <div class="toolbar-left">
            <!-- Mobile Hamburger Menu -->
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Menu">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <img src="assets/logo.jpg" alt="Asphalt Premium Logo" class="logo-image" />
            </div>
        </div>
        
        <nav class="toolbar-nav">
            <!-- Login/User Section -->
            <div class="toolbar-auth-section">
                <button class="btn-toolbar-login" id="toolbar-login-btn" style="display: none;">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Zaloguj do OSM</span>
                </button>
                <div class="toolbar-user-section" id="toolbar-user-section" style="display: none;">
                    <div class="toolbar-user-info" id="toolbar-user-info">
                        <i class="fas fa-user-circle"></i>
                        <span class="user-name" id="toolbar-user-name">Zalogowany</span>
                    </div>
                    <button class="btn-toolbar-logout" id="toolbar-logout-btn" title="Wyloguj siƒô">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Wyloguj</span>
                    </button>
                </div>
            </div>
            
            <!-- Navigation Buttons (Desktop) -->
            <div class="toolbar-nav-buttons">
                <button class="nav-btn active" data-page="map">Mapa</button>
                <button class="nav-btn" data-page="about">O projekcie</button>
            </div>
        </nav>
    </header>
    
    <!-- Mobile Menu Dropdown (outside header to avoid stacking context issues) -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-content">
            <button class="mobile-menu-item nav-btn active" data-page="map">
                <i class="fas fa-map"></i>
                <span>Mapa</span>
            </button>
            <button class="mobile-menu-item nav-btn" data-page="about">
                <i class="fas fa-info-circle"></i>
                <span>O projekcie</span>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Map Page -->
        <div id="map-page" class="page active">
            <div id="map" class="map-container"></div>
            
            <!-- Mobile Filter Overlay -->
            <div id="mobile-filter-overlay" class="mobile-filter-overlay" style="display: none;"></div>
            
            <!-- About Overlay (hidden by default) -->
            <div id="about-overlay" class="about-overlay" style="display: none;">
                <div class="about-container">
                    <div class="about-content">
                        <!-- Hero Section -->
                        <section class="hero-section">
                            <div class="hero-content">
                                <div class="hero-logo">
                                    <img src="assets/logo.jpg" alt="Asphalt Premium Logo" class="hero-logo-image" />
                                </div>
                                <p class="hero-subtitle">Znajd≈∫ najlepsze drogi dla swojej przygody na rowerze</p>
                                <div class="hero-features">
                                    <div class="feature-chip">
                                        <i class="fas fa-bicycle"></i>
                                        <span>Dla cyklist√≥w</span>
                                    </div>
                                    <div class="feature-chip">
                                        <i class="fas fa-map-marked-alt"></i>
                                        <span>Jako≈õƒá dr√≥g</span>
                                    </div>
                                    <div class="feature-chip">
                                        <i class="fas fa-database"></i>
                                        <span>OpenStreetMap</span>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Mission Section -->
                        <section class="mission-section">
                            <div class="section-header">
                                <i class="fas fa-flag section-icon"></i>
                                <h2>Cel projektu</h2>
                            </div>
                            <p class="mission-text">
                                Naszym celem jest <strong>uzupe≈Çnienie danych o jako≈õci dr√≥g w OpenStreetMap</strong>, 
                                co pozwoli wszystkim cyklistom na planowanie lepszych, bardziej komfortowych tras. 
                                Asphalt Premium pokazuje gdzie mo≈ºna znale≈∫ƒá dobry asfalt na ma≈Ço uczƒôszczanych drogach 
                                ‚Äî idealnych do spokojnych przeja≈ºd≈ºek z dala od ruchu.
                            </p>
                        </section>

                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapƒô</span>
                            </button>
                            <a href="#help-section" class="btn-map-small btn-help-link">
                                <i class="fas fa-hands-helping"></i>
                                <span>Chcƒô pom√≥c</span>
                            </a>
                        </div>
                        
                        <!-- Map Description Section -->
                        <section class="map-description-section">
                            <div class="section-header">
                                <i class="fas fa-route section-icon"></i>
                                <h2>Co pokazuje mapa?</h2>
                            </div>
                            
                            <!-- Road Types Info -->
                            <div class="road-types-info">
                                <p>
                                    Mapa prezentuje <strong>drogi trzeciorzƒôdne i niesklasyfikowane</strong> ‚Äî 
                                    te o niewielkim natƒô≈ºeniu ruchu, idealne dla spokojnych przeja≈ºd≈ºek rowerowych 
                                    z dala od g≈Ç√≥wnych arterii komunikacyjnych.
                                </p>
                            </div>
                            
                            <!-- Map and Legend Layout -->
                            <div class="map-legend-layout">
                                <!-- Map Example -->
                                <div class="map-example">
                                    <div class="clickable-image">
                                        <img src="assets/map_exapmle.jpg" alt="Przyk≈Çad mapy z kolorowymi drogami wed≈Çug jako≈õci nawierzchni" />
                                    </div>
                                    <p class="map-caption">Przyk≈Çad mapy pokazujƒÖcej jako≈õƒá dr√≥g w wojew√≥dztwie dolno≈õlƒÖskim</p>
                                </div>
                                
                                <!-- Quality Legend -->
                                <div class="quality-legend">
                                <div class="quality-item">
                                    <div class="quality-line excellent"></div>
                                    <div class="quality-content">
                                        <h4>Doskona≈Ça jako≈õƒá</h4>
                                        <p>≈öwie≈ºy, g≈Çadki asfalt bez wyboj√≥w</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line good"></div>
                                    <div class="quality-content">
                                        <h4>Dobra jako≈õƒá</h4>
                                        <p>Drobne niedoskona≈Ço≈õci, ale przyjemna jazda</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line poor"></div>
                                    <div class="quality-content">
                                        <h4>S≈Çaba jako≈õƒá</h4>
                                        <p>Wyboje, pƒôkniƒôcia, nier√≥wno≈õci, dziury - lepiej omijaƒá</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line unknown"></div>
                                    <div class="quality-content">
                                        <h4>Brak danych</h4>
                                        <p>Tutaj mo≈ºesz pom√≥c! Oce≈Ñ drogƒô</p>
                                    </div>
                                </div>
                                </div>
                            </div>
                            
                            <!-- Statistics Info -->
                            <div class="statistics-info">
                                <div class="info-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <p>
                                    <strong>Bonus:</strong> Aplikacja automatycznie generuje statystyki jako≈õci dr√≥g 
                                    dla wybranego wojew√≥dztwa, pokazujƒÖc procentowy udzia≈Ç ka≈ºdego typu nawierzchni. PozbƒÖd≈∫my siƒô z mapy niebieskich lini !!!
                                </p>
                            </div>
                        </section>
                        
                        <!-- How to Help Section -->
                        <section class="help-section" id="help-section">
                            <div class="section-header">
                                <i class="fas fa-hands-helping section-icon"></i>
                                <h2>Jak mo≈ºesz pom√≥c?</h2>
                            </div>
                            
                            <div class="help-content">
                                <p class="help-intro">
                                    <strong>Znasz jako≈õƒá danej drogi?</strong> Podziel siƒô swojƒÖ wiedzƒÖ z innymi cyklistami! 
                                    Dziƒôki Tobie mapa bƒôdzie coraz bardziej kompletna i przydatna dla wszystkich. 
                                    Wystarczy kilka klikniƒôƒá, aby dodaƒá cennƒÖ informacjƒô o stanie nawierzchni.
                                </p>
                                
                                <div class="help-steps-container">
                                    <h3 class="steps-title">Instrukcja krok po kroku:</h3>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">1</div>
                                        <div class="step-content-block">
                                            <h4>Zarejestruj siƒô w OpenStreetMap</h4>
                                            <p>
                                                Je≈õli nie masz jeszcze konta w OpenStreetMap, przejd≈∫ do 
                                                <a href="https://www.openstreetmap.org/user/new" target="_blank" rel="noopener">strony rejestracji</a> 
                                                i za≈Ç√≥≈º darmowe konto. To zajmie tylko chwilƒô!
                                            </p>
                                            <p class="step-note">
                                                <i class="fas fa-info-circle"></i>
                                                Masz ju≈º konto? Przejd≈∫ do kolejnego kroku.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">2</div>
                                        <div class="step-content-block">
                                            <h4>Zaloguj siƒô do OpenStreetMap</h4>
                                            <p>
                                                Kliknij przycisk <strong>"Zaloguj do OSM"</strong> w prawym g√≥rnym rogu mapy (toolbar). 
                                                Po zalogowaniu zobaczysz swojƒÖ nazwƒô u≈ºytkownika w tym samym miejscu.
                                            </p>
                                            <div class="step-image-wrapper clickable-image">
                                                <img src="assets/instructions/logowanie.jpg" alt="Logowanie do OSM przez toolbar" />
                                            </div>
                                            <p class="step-note">
                                                <i class="fas fa-info-circle"></i>
                                                Logowanie jest wymagane tylko raz. Po zalogowaniu mo≈ºesz edytowaƒá wiele dr√≥g bez ponownego logowania.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">3</div>
                                        <div class="step-content-block">
                                            <h4>Zaznacz fragment drogi na mapie</h4>
                                            <p>
                                                Kliknij na drogƒô, kt√≥rej jako≈õƒá znasz. Wybrany fragment zostanie pod≈õwietlony 
                                                na <strong>fioletowo</strong>, pokazujƒÖc, ≈ºe zosta≈Ç zaznaczony.
                                            </p>
                                            <div class="step-image-wrapper clickable-image">
                                                <img src="assets/instructions/zaznacz_droge.jpg" alt="Zaznaczony fragment drogi na fioletowo" />
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">4</div>
                                        <div class="step-content-block">
                                            <h4>Wybierz jako≈õƒá nawierzchni</h4>
                                            <p>
                                                Po zalogowaniu, w panelu bocznym z informacjami o drodze, zobaczysz galeriƒô opcji jako≈õci. 
                                                Wybierz odpowiedniƒÖ jako≈õƒá nawierzchni (doskona≈Ça, dobra, ≈õrednia, s≈Çaba itp.), 
                                                kt√≥ra najlepiej opisuje stan drogi.
                                            </p>
                                            <div class="step-image-wrapper clickable-image">
                                                <img src="assets/instructions/wybierz_jakosc.jpg" alt="Wyb√≥r jako≈õci nawierzchni z galerii opcji" />
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">5</div>
                                        <div class="step-content-block">
                                            <h4>Zapisz zmiany</h4>
                                            <p>
                                                Kliknij przycisk <strong>"Zapisz"</strong>, a nastƒôpnie potwierd≈∫ zmiany w oknie dialogowym. 
                                                Twoja ocena zostanie wys≈Çana do bazy danych OpenStreetMap.
                                            </p>
                                            <div class="step-image-wrapper clickable-image">
                                                <img src="assets/instructions/kliknij_zapisz.jpg" alt="Zapisywanie zmian - przycisk Zapisz" />
                                            </div>
                                            <p class="step-note highlight">
                                                <i class="fas fa-user-graduate"></i>
                                                <strong>Dla zaawansowanych u≈ºytkownik√≥w OSM:</strong> Mo≈ºesz r√≥wnie≈º kliknƒÖƒá przycisk "Edytuj w OSM", aby otworzyƒá wybranƒÖ drogƒô bezpo≈õrednio w edytorze OpenStreetMap i wprowadziƒá zmiany rƒôcznie.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">6</div>
                                        <div class="step-content-block">
                                            <h4>Gotowe! Droga zosta≈Ça zaktualizowana</h4>
                                            <p>
                                                Twoja ocena zostanie zapisana w OpenStreetMap i wkr√≥tce pojawi siƒô na mapie 
                                                Asphalt Premium. Gratulacje, w≈Ça≈õnie pomog≈Çe≈õ innym cyklistom!
                                            </p>
                                            <div class="success-message">
                                                <i class="fas fa-check-circle"></i>
                                                <span>Droga zmieniona i zapisana w OSM</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="help-step">
                                        <div class="step-number-badge">7</div>
                                        <div class="step-content-block">
                                            <h4>Oce≈Ñ kolejne drogi</h4>
                                            <p>
                                                Mo≈ºesz teraz wybraƒá kolejny fragment drogi i ustaliƒá dla niego jako≈õƒá. 
                                                Im wiƒôcej dr√≥g ocenisz, tym bardziej kompletna bƒôdzie mapa!
                                            </p>
                                            <p class="step-note highlight">
                                                <i class="fas fa-star"></i>
                                                <strong>Porada:</strong> Oce≈Ñ drogi w swojej okolicy ‚Äî znasz je najlepiej!
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="help-footer">
                                    <div class="help-cta-box">
                                        <i class="fas fa-heart"></i>
                                        <h4>Dziƒôkujemy za pomoc!</h4>
                                        <p>
                                            Ka≈ºda ocena drogi to cenny wk≈Çad w spo≈Çeczno≈õƒá cyklist√≥w. 
                                            Razem tworzymy najbardziej kompletnƒÖ mapƒô jako≈õci dr√≥g w Polsce!
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </section>
                        
                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapƒô</span>
                            </button>
                        </div>

                        <!-- Call to Action Section -->
                        <section class="cta-section">
                            <div class="cta-content">
                                <div class="cta-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h2>Znasz tƒô drogƒô? Podziel siƒô opiniƒÖ!</h2>
                                <p>
                                    Ka≈ºda informacja o jako≈õci drogi to cenny wk≈Çad w spo≈Çeczno≈õƒá cyklist√≥w. 
                                    Pom√≥≈º innym rowerzystom unikaƒá wyboj√≥w i znajdowaƒá najlepsze trasy!
                                </p>
                                <h2>Ilo≈õƒá nieznanych dr√≥g w wojew√≥dztwach</h2>
                                <div class="cta-stats">
                                    <div class="voivodeship-grid">
                                        <div class="stat-highlight">
                                            <span class="stat-number">82,4%</span>
                                            <span class="stat-label">Podlaskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">82,9%</span>
                                            <span class="stat-label">Mazowieckie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">84,2%</span>
                                            <span class="stat-label">Lubelskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">86,5%</span>
                                            <span class="stat-label">Pomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">87,4%</span>
                                            <span class="stat-label">Kujawsko-pomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">88,4%</span>
                                            <span class="stat-label">Podkarpackie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">88,6%</span>
                                            <span class="stat-label">Ma≈Çopolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,0%</span>
                                            <span class="stat-label">≈ölƒÖskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,2%</span>
                                            <span class="stat-label">Dolno≈õlƒÖskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,5%</span>
                                            <span class="stat-label">Warmi≈Ñsko-mazurskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">90,8%</span>
                                            <span class="stat-label">Opolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">90,9%</span>
                                            <span class="stat-label">Zachodniopomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">92,6%</span>
                                            <span class="stat-label">≈öwiƒôtokrzyskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">92,6%</span>
                                            <span class="stat-label">Wielkopolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">93,4%</span>
                                            <span class="stat-label">≈Å√≥dzkie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">95,8%</span>
                                            <span class="stat-label">Lubuskie</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Impact Benefits -->
                            <div class="impact-benefits">
                                <h3>Tw√≥j wk≈Çad ma znaczenie</h3>
                                <div class="impact-grid">
                                    <div class="impact-item">
                                        <i class="fas fa-users-cog"></i>
                                        <h4>Pomagasz spo≈Çeczno≈õci</h4>
                                        <p>Ka≈ºda ocena drogi pomaga innym cyklistom</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-route"></i>
                                        <h4>Lepsze planowanie tras</h4>
                                        <p>Aplikacje nawigacyjne bƒôdƒÖ unikaƒá z≈Çych dr√≥g</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-bicycle"></i>
                                        <h4>Komfortowe przeja≈ºd≈ºki</h4>
                                        <p>Mniej niespodzianek, wiƒôcej przyjemno≈õci z jazdy</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-globe"></i>
                                        <h4>Globalne dane</h4>
                                        <p>Twoje dane sƒÖ dostƒôpne na ca≈Çym ≈õwiecie</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                        

                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapƒô</span>
                            </button>
                    </div>
                    
                    </div>
                </div>
            </div>
            
            <!-- Floating Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3>Filtry mapy</h3>
                    <button class="sidebar-toggle" id="sidebar-toggle">
                        <span class="toggle-icon">‚Üê</span>
                    </button>
                        <button class="mobile-filter-close" id="mobile-filter-close" aria-label="Zamknij filtry">
                            <i class="fas fa-times"></i>
                        </button>
                </div>
                
                <div class="sidebar-content">
                    <div class="form-group">
                        <label for="voivodeship-select">Wojew√≥dztwo:</label>
                        <select id="voivodeship-select" class="form-select">
                            <option value="">Wybierz wojew√≥dztwo</option>
                            <option value="dolnoslaskie">Dolno≈õlƒÖskie</option>
                            <option value="kujawsko-pomorskie">Kujawsko-pomorskie</option>
                            <option value="lubelskie">Lubelskie</option>
                            <option value="lubuskie">Lubuskie</option>
                            <option value="lodzkie">≈Å√≥dzkie</option>
                            <option value="malopolskie">Ma≈Çopolskie</option>
                            <option value="mazowieckie">Mazowieckie</option>
                            <option value="opolskie">Opolskie</option>
                            <option value="podkarpackie">Podkarpackie</option>
                            <option value="podlaskie">Podlaskie</option>
                            <option value="pomorskie">Pomorskie</option>
                            <option value="slaskie">≈ölƒÖskie</option>
                            <option value="swietokrzyskie">≈öwiƒôtokrzyskie</option>
                            <option value="warminsko-mazurskie">Warmi≈Ñsko-mazurskie</option>
                            <option value="wielkopolskie">Wielkopolskie</option>
                            <option value="zachodniopomorskie">Zachodniopomorskie</option>
                        </select>
                    </div>
                    
                    <button id="refresh-btn" class="btn btn-primary">
                        <span class="btn-icon">üîÑ</span>
                        Od≈õwie≈º
                    </button>
                    

                    
                    <!-- Legend -->
                    <div class="legend">
                        <h4>
                            Legenda jako≈õci dr√≥g
                            <button class="legend-info-btn" id="legend-info-btn" title="Informacje o mapowaniu OSM">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </h4>
                        <div class="legend-item" data-road-type="excellent">
                            <button class="eye-toggle active" data-type="excellent" title="Poka≈º/ukryj drogi doskona≈Çe">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line excellent"></div>
                            <span>Doskona≈Ça</span>
                        </div>
                        <div class="legend-item" data-road-type="good">
                            <button class="eye-toggle active" data-type="good" title="Poka≈º/ukryj drogi dobre">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line good"></div>
                            <span>Dobra</span>
                        </div>
                        <div class="legend-item" data-road-type="poor">
                            <button class="eye-toggle active" data-type="poor" title="Poka≈º/ukryj drogi s≈Çabe">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line poor"></div>
                            <span>≈örednia, S≈Çaba, Bardzo s≈Çaba</span>
                        </div>
                        <div class="legend-item" data-road-type="unknown">
                            <button class="eye-toggle active" data-type="unknown" title="Poka≈º/ukryj drogi bez danych">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line unknown"></div>
                            <span>Brak danych smoothness</span>
                        </div>
                    </div>
                    
                    <!-- Statistics -->
                    <div class="road-stats" id="road-stats" style="display: none;">
                        <h4>Statystyki jako≈õci dr√≥g</h4>
                        <div class="stat-main">
                            <span class="stat-label">Drogi bez oceny jako≈õci:</span>
                            <span class="stat-value" id="unknown-roads">-</span>
                        </div>
                        <div class="stat-breakdown">
                            <div class="stat-item">
                                <div class="legend-line excellent"></div>
                                <span class="sidebar-stat-number" id="excellent-percent">-</span>
                            </div>
                            <div class="stat-item">
                                <div class="legend-line good"></div>
                                <span class="sidebar-stat-number" id="good-percent">-</span>
                            </div>
                            <div class="stat-item">
                                <div class="legend-line poor"></div>
                                <span class="sidebar-stat-number" id="poor-percent">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Road Info Sidebar -->
            <div class="road-info-sidebar" id="road-info-sidebar" style="display: none;">
                <div class="road-info-header">
                    <h3>Informacje o drodze</h3>
                    <button class="road-info-close" id="road-info-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="road-info-content" id="road-info-content">
                    <!-- Content will be filled dynamically -->
                </div>
            </div>

            <!-- Legend Info Popup -->
            <div id="legend-info-popup" class="legend-info-popup-overlay" style="display: none;">
                <div class="legend-info-popup">
                    <div class="legend-info-popup-header">
                        <h4>Mapowanie jako≈õci dr√≥g na tagi OSM</h4>
                        <button class="legend-info-popup-close" id="legend-info-popup-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="legend-info-popup-content">
                        <p class="legend-info-intro">
                            Nasza aplikacja mapuje poziomy jako≈õci nawierzchni na standardowe tagi OpenStreetMap (smoothness):
                        </p>
                        
                        <div class="legend-info-mapping">
                            <div class="legend-info-item">
                                <div class="legend-info-line excellent"></div>
                                <div class="legend-info-details">
                                    <h5>Doskona≈Ça jako≈õƒá</h5>
                                    <p class="legend-info-tag"><code>smoothness=excellent</code></p>
                                    <p class="legend-info-desc">≈öwie≈ºy, g≈Çadki asfalt bez wyboj√≥w</p>
                                </div>
                            </div>
                            
                            <div class="legend-info-item">
                                <div class="legend-info-line good"></div>
                                <div class="legend-info-details">
                                    <h5>Dobra jako≈õƒá</h5>
                                    <p class="legend-info-tag"><code>smoothness=good</code></p>
                                    <p class="legend-info-desc">Drobne niedoskona≈Ço≈õci, ale przyjemna jazda</p>
                                </div>
                            </div>
                            
                            <div class="legend-info-item">
                                <div class="legend-info-line poor"></div>
                                <div class="legend-info-details">
                                    <h5>≈örednia, S≈Çaba, Bardzo s≈Çaba</h5>
                                    <p class="legend-info-tag">
                                        <code>smoothness=intermediate</code><br>
                                        <code>smoothness=bad</code><br>
                                        <code>smoothness=very_bad</code>
                                    </p>
                                    <p class="legend-info-desc">Wyboje, pƒôkniƒôcia - lepiej omijaƒá</p>
                                    <div class="legend-info-warning">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        <span>Tych dr√≥g rowerzy≈õci zazwyczaj unikajƒÖ</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="legend-info-item">
                                <div class="legend-info-line unknown"></div>
                                <div class="legend-info-details">
                                    <h5>Brak danych</h5>
                                    <p class="legend-info-tag"><em>Brak tagu smoothness</em></p>
                                    <p class="legend-info-desc">Drogi bez oceny jako≈õci - tutaj mo≈ºesz pom√≥c!</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="legend-info-footer">
                            <p>
                                <i class="fas fa-info-circle"></i>
                                Wiƒôcej informacji o tagu smoothness znajdziesz w 
                                <a href="https://wiki.openstreetmap.org/wiki/Key:smoothness" target="_blank" rel="noopener">
                                    dokumentacji OpenStreetMap
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <span class="image-modal-close">&times;</span>
        <img class="image-modal-content" id="modalImage">
        <div id="modalCaption"></div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="confirmation-modal" style="display: none;">
        <div class="confirmation-modal-overlay"></div>
        <div class="confirmation-modal-content">
            <div class="confirmation-modal-header">
                <h3 id="confirmationModalTitle">Potwierd≈∫ akcjƒô</h3>
                <button class="confirmation-modal-close" id="confirmationModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="confirmation-modal-body" id="confirmationModalBody">
                <!-- Content will be inserted dynamically -->
            </div>
            <div class="confirmation-modal-footer">
                <button class="btn btn-secondary" id="confirmationModalCancel">Anuluj</button>
                <button class="btn btn-primary" id="confirmationModalConfirm">Potwierd≈∫</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/config.js"></script>
    <script src="js/cache.js"></script>
    <script src="js/overpass.js"></script>
    <script src="js/oauth.js"></script>
    <script src="js/osm-api.js"></script>
    <script src="js/map.js"></script>
    <script src="js/app.js"></script>
    <script src="js/image-modal.js"></script>
</body>
</html>
