<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asphalt Premium - Jakość dróg w Polsce</title>
    <link rel="icon" type="image/svg+xml" href="favicon.png">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Toolbar -->
    <header class="toolbar">
        <div class="toolbar-left">
            <div class="logo">
                <img src="assets/logo.jpg" alt="Asphalt Premium Logo" class="logo-image" />
            </div>
        </div>
        
        <nav class="toolbar-nav">
            <button class="nav-btn active" data-page="map">Mapa</button>
            <button class="nav-btn" data-page="about">O projekcie</button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Map Page -->
        <div id="map-page" class="page active">
            <div id="map" class="map-container"></div>
            
            <!-- About Overlay (hidden by default) -->
            <div id="about-overlay" class="about-overlay" style="display: none;">
                <div class="about-container">
                    <div class="about-content">
                        <!-- Hero Section -->
                        <section class="hero-section">
                            <div class="hero-content">
                                <div class="hero-logo">
                                    <img src="assets/logo.jpg" alt="Asphalt Premium Logo" class="hero-logo-image" />
                                </div>
                                <p class="hero-subtitle">Znajdź najlepsze drogi dla swojej przygody na rowerze</p>
                                <div class="hero-features">
                                    <div class="feature-chip">
                                        <i class="fas fa-bicycle"></i>
                                        <span>Dla cyklistów</span>
                                    </div>
                                    <div class="feature-chip">
                                        <i class="fas fa-map-marked-alt"></i>
                                        <span>Jakość dróg</span>
                                    </div>
                                    <div class="feature-chip">
                                        <i class="fas fa-database"></i>
                                        <span>OpenStreetMap</span>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Mission Section -->
                        <section class="mission-section">
                            <div class="section-header">
                                <i class="fas fa-flag section-icon"></i>
                                <h2>Cel projektu</h2>
                            </div>
                            <p class="mission-text">
                                Naszym celem jest <strong>uzupełnienie danych o jakości dróg w OpenStreetMap</strong>, 
                                co pozwoli wszystkim cyklistom na planowanie lepszych, bardziej komfortowych tras. 
                                Asphalt Premium pokazuje gdzie można znaleźć dobry asfalt na mało uczęszczanych drogach 
                                — idealnych do spokojnych przejażdżek z dala od ruchu.
                            </p>
                        </section>

                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapę</span>
                            </button>
                            <a href="#help-section" class="btn-map-small btn-help-link">
                                <i class="fas fa-hands-helping"></i>
                                <span>Chcę pomóc</span>
                            </a>
                        </div>
                        
                        <!-- Map Description Section -->
                        <section class="map-description-section">
                            <div class="section-header">
                                <i class="fas fa-route section-icon"></i>
                                <h2>Co pokazuje mapa?</h2>
                            </div>
                            
                            <!-- Road Types Info -->
                            <div class="road-types-info">
                                <p>
                                    Mapa prezentuje <strong>drogi trzeciorzędne i niesklasyfikowane</strong> — 
                                    te o niewielkim natężeniu ruchu, idealne dla spokojnych przejażdżek rowerowych 
                                    z dala od głównych arterii komunikacyjnych.
                                </p>
                            </div>
                            
                            <!-- Map and Legend Layout -->
                            <div class="map-legend-layout">
                                <!-- Map Example -->
                                <div class="map-example">
                                    <div class="clickable-image">
                                        <img src="assets/map_exapmle.jpg" alt="Przykład mapy z kolorowymi drogami według jakości nawierzchni" />
                                    </div>
                                    <p class="map-caption">Przykład mapy pokazującej jakość dróg w województwie dolnośląskim</p>
                                </div>
                                
                                <!-- Quality Legend -->
                                <div class="quality-legend">
                                <div class="quality-item">
                                    <div class="quality-line excellent"></div>
                                    <div class="quality-content">
                                        <h4>Doskonała jakość</h4>
                                        <p>Świeży, gładki asfalt bez wybojów</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line good"></div>
                                    <div class="quality-content">
                                        <h4>Dobra jakość</h4>
                                        <p>Drobne niedoskonałości, ale przyjemna jazda</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line poor"></div>
                                    <div class="quality-content">
                                        <h4>Słaba jakość</h4>
                                        <p>Wyboje, pęknięcia - lepiej omijać</p>
                                    </div>
                                </div>
                                <div class="quality-item">
                                    <div class="quality-line unknown"></div>
                                    <div class="quality-content">
                                        <h4>Brak danych</h4>
                                        <p>Tutaj możesz pomóc! Oceń drogę</p>
                                    </div>
                                </div>
                                </div>
                            </div>
                            
                            <!-- Statistics Info -->
                            <div class="statistics-info">
                                <div class="info-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <p>
                                    <strong>Bonus:</strong> Aplikacja automatycznie generuje statystyki jakości dróg 
                                    dla wybranego województwa, pokazując procentowy udział każdego typu nawierzchni. Pozbądźmy się z mapy niebieskich lini !!!
                                </p>
                            </div>
                        </section>
                        
                        <!-- How to Help Section -->
                        <section class="help-section" id="help-section">
                            <div class="section-header">
                                <i class="fas fa-hands-helping section-icon"></i>
                                <h2>Jak możesz pomóc?</h2>
                            </div>
                            
                            <div class="help-content">
                                <p>Sekcja w budowie - wkrótce pojawią się tutaj nowe informacje o tym, jak możesz przyczynić się do rozwoju projektu!</p>
                            </div>
                        </section>
                        
                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapę</span>
                            </button>
                        </div>

                        <!-- Call to Action Section -->
                        <section class="cta-section">
                            <div class="cta-content">
                                <div class="cta-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h2>Znasz tę drogę? Podziel się opinią!</h2>
                                <p>
                                    Każda informacja o jakości drogi to cenny wkład w społeczność cyklistów. 
                                    Pomóż innym rowerzystom unikać wybojów i znajdować najlepsze trasy!
                                </p>
                                <h2>Ilość nieznanych dróg w województwach</h2>
                                <div class="cta-stats">
                                    <div class="voivodeship-grid">
                                        <div class="stat-highlight">
                                            <span class="stat-number">82,4%</span>
                                            <span class="stat-label">Podlaskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">82,9%</span>
                                            <span class="stat-label">Mazowieckie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">84,2%</span>
                                            <span class="stat-label">Lubelskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">86,5%</span>
                                            <span class="stat-label">Pomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">87,4%</span>
                                            <span class="stat-label">Kujawsko-pomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">88,4%</span>
                                            <span class="stat-label">Podkarpackie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">88,6%</span>
                                            <span class="stat-label">Małopolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,0%</span>
                                            <span class="stat-label">Śląskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,2%</span>
                                            <span class="stat-label">Dolnośląskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">89,5%</span>
                                            <span class="stat-label">Warmińsko-mazurskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">90,8%</span>
                                            <span class="stat-label">Opolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">90,9%</span>
                                            <span class="stat-label">Zachodniopomorskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">92,6%</span>
                                            <span class="stat-label">Świętokrzyskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">92,6%</span>
                                            <span class="stat-label">Wielkopolskie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">93,4%</span>
                                            <span class="stat-label">Łódzkie</span>
                                        </div>
                                        <div class="stat-highlight">
                                            <span class="stat-number">95,8%</span>
                                            <span class="stat-label">Lubuskie</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Impact Benefits -->
                            <div class="impact-benefits">
                                <h3>Twój wkład ma znaczenie</h3>
                                <div class="impact-grid">
                                    <div class="impact-item">
                                        <i class="fas fa-users-cog"></i>
                                        <h4>Pomagasz społeczności</h4>
                                        <p>Każda ocena drogi pomaga innym cyklistom</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-route"></i>
                                        <h4>Lepsze planowanie tras</h4>
                                        <p>Aplikacje nawigacyjne będą unikać złych dróg</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-bicycle"></i>
                                        <h4>Komfortowe przejażdżki</h4>
                                        <p>Mniej niespodzianek, więcej przyjemności z jazdy</p>
                                    </div>
                                    <div class="impact-item">
                                        <i class="fas fa-globe"></i>
                                        <h4>Globalne dane</h4>
                                        <p>Twoje dane są dostępne na całym świecie</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                        

                        <!-- Map Button -->
                        <div class="map-button-section">
                            <button class="btn-map-small go-to-map-btn">
                                <i class="fas fa-map"></i>
                                <span>Zobacz mapę</span>
                            </button>
                    </div>
                    
                    </div>
                </div>
            </div>
            
            <!-- Floating Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3>Kontrola mapy</h3>
                    <button class="sidebar-toggle" id="sidebar-toggle">
                        <span class="toggle-icon">←</span>
                    </button>
                </div>
                
                <div class="sidebar-content">
                    <div class="form-group">
                        <label for="voivodeship-select">Województwo:</label>
                        <select id="voivodeship-select" class="form-select">
                            <option value="">Wybierz województwo</option>
                            <option value="dolnoslaskie">Dolnośląskie</option>
                            <option value="kujawsko-pomorskie">Kujawsko-pomorskie</option>
                            <option value="lubelskie">Lubelskie</option>
                            <option value="lubuskie">Lubuskie</option>
                            <option value="lodzkie">Łódzkie</option>
                            <option value="malopolskie">Małopolskie</option>
                            <option value="mazowieckie">Mazowieckie</option>
                            <option value="opolskie">Opolskie</option>
                            <option value="podkarpackie">Podkarpackie</option>
                            <option value="podlaskie">Podlaskie</option>
                            <option value="pomorskie">Pomorskie</option>
                            <option value="slaskie">Śląskie</option>
                            <option value="swietokrzyskie">Świętokrzyskie</option>
                            <option value="warminsko-mazurskie">Warmińsko-mazurskie</option>
                            <option value="wielkopolskie">Wielkopolskie</option>
                            <option value="zachodniopomorskie">Zachodniopomorskie</option>
                        </select>
                    </div>
                    
                    <button id="refresh-btn" class="btn btn-primary">
                        <span class="btn-icon">🔄</span>
                        Odśwież
                    </button>
                    

                    
                    <!-- Legend -->
                    <div class="legend">
                        <h4>Legenda jakości dróg</h4>
                        <div class="legend-item" data-road-type="excellent">
                            <button class="eye-toggle active" data-type="excellent" title="Pokaż/ukryj drogi doskonałe">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line excellent"></div>
                            <span>Doskonała (excellent)</span>
                        </div>
                        <div class="legend-item" data-road-type="good">
                            <button class="eye-toggle active" data-type="good" title="Pokaż/ukryj drogi dobre">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line good"></div>
                            <span>Dobra (good)</span>
                        </div>
                        <div class="legend-item" data-road-type="poor">
                            <button class="eye-toggle active" data-type="poor" title="Pokaż/ukryj drogi słabe">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line poor"></div>
                            <span>Słaba</span>
                        </div>
                        <div class="legend-item" data-road-type="unknown">
                            <button class="eye-toggle active" data-type="unknown" title="Pokaż/ukryj drogi bez danych">
                                <i class="fas fa-eye eye-visible"></i>
                                <i class="fas fa-eye-slash eye-hidden"></i>
                            </button>
                            <div class="legend-line unknown"></div>
                            <span>Brak danych smoothness</span>
                        </div>
                    </div>
                    
                    <!-- Statistics -->
                    <div class="road-stats" id="road-stats" style="display: none;">
                        <h4>Statystyki jakości dróg</h4>
                        <div class="stat-main">
                            <span class="stat-label">Drogi bez oceny jakości:</span>
                            <span class="stat-value" id="unknown-roads">-</span>
                        </div>
                        <div class="stat-breakdown">
                            <div class="stat-item">
                                <div class="legend-line excellent"></div>
                                <span class="sidebar-stat-number" id="excellent-percent">-</span>
                            </div>
                            <div class="stat-item">
                                <div class="legend-line good"></div>
                                <span class="sidebar-stat-number" id="good-percent">-</span>
                            </div>
                            <div class="stat-item">
                                <div class="legend-line poor"></div>
                                <span class="sidebar-stat-number" id="poor-percent">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Road Info Sidebar -->
            <div class="road-info-sidebar" id="road-info-sidebar" style="display: none;">
                <div class="road-info-header">
                    <h3>Informacje o drodze</h3>
                    <button class="road-info-close" id="road-info-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="road-info-content" id="road-info-content">
                    <!-- Content will be filled dynamically -->
                </div>
            </div>
        </div>

    </main>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <span class="image-modal-close">&times;</span>
        <img class="image-modal-content" id="modalImage">
        <div id="modalCaption"></div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="confirmation-modal" style="display: none;">
        <div class="confirmation-modal-overlay"></div>
        <div class="confirmation-modal-content">
            <div class="confirmation-modal-header">
                <h3 id="confirmationModalTitle">Potwierdź akcję</h3>
                <button class="confirmation-modal-close" id="confirmationModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="confirmation-modal-body" id="confirmationModalBody">
                <!-- Content will be inserted dynamically -->
            </div>
            <div class="confirmation-modal-footer">
                <button class="btn btn-secondary" id="confirmationModalCancel">Anuluj</button>
                <button class="btn btn-primary" id="confirmationModalConfirm">Potwierdź</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/config.js"></script>
    <script src="js/cache.js"></script>
    <script src="js/overpass.js"></script>
    <script src="js/oauth.js"></script>
    <script src="js/osm-api.js"></script>
    <script src="js/map.js"></script>
    <script src="js/app.js"></script>
    <script src="js/image-modal.js"></script>
</body>
</html>
